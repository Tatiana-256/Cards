(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{14:function(e,t,r){e.exports={header:"Header_header__O_PC8",rout:"Header_rout__17_vR"}},17:function(e,t,r){e.exports={container:"LogInPage_container__1qDBs",logIn:"LogInPage_logIn__2Zlu_",checkbox:"LogInPage_checkbox__2tGba",forgotPass:"LogInPage_forgotPass__2eiLz"}},19:function(e,t,r){e.exports={forgot:"RefreshPassword_forgot__2Udrk",fagotForm:"RefreshPassword_fagotForm__3ARDu",error:"RefreshPassword_error__8cZD5",unError:"RefreshPassword_unError__3Ulfh"}},22:function(e,t,r){e.exports={container:"Registration_container__3D76H",inputArea:"Registration_inputArea__3LrSc",buttons:"Registration_buttons__3aqbV"}},26:function(e,t,r){e.exports={baseSettings:"Profile_baseSettings__1X-89",container:"Profile_container__reze-"}},38:function(e,t,r){e.exports={inputClass:"Input_inputClass__39JiE"}},39:function(e,t,r){e.exports={regularButton:"Button_regularButton__Dewfh",deleteButton:"Button_deleteButton__1ZXBy"}},44:function(e,t,r){e.exports=r(74)},49:function(e,t,r){},50:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(20),s=r.n(o),c=(r(49),r(3)),u=(r(50),r(14)),i=r.n(u),l=r(4),m=function(e){return n.a.createElement("div",{className:i.a.header},n.a.createElement(l.b,{to:"/",className:i.a.rout}," Profile "),n.a.createElement(l.b,{to:"/login",className:i.a.rout}," Login "),n.a.createElement(l.b,{to:"/registration",className:i.a.rout}," Registration "),n.a.createElement(l.b,{to:"/refreshPassword",className:i.a.rout}," Remind password "),n.a.createElement(l.b,{to:"/newPassword",className:i.a.rout}," New password "))},d=r(26),E=r.n(d),f=r(43),p=r(38),g=r.n(p),b=function(e){var t=e.onEnter,r=e.error,a=Object(f.a)(e,["onEnter","error"]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({className:g.a.inputClass},a,{type:"text",onKeyPress:function(e){t&&"Enter"===e.key&&t()}})),r?n.a.createElement("span",null,r):"")},h=r(39),_=r.n(h),v=function(e){var t=Object.assign({},e);return n.a.createElement("button",Object.assign({className:_.a[e.buttonClass]},t))},O=function(e){return n.a.createElement("div",{className:E.a.baseSettings},n.a.createElement("div",null,"Basic style for button and input"),n.a.createElement("div",{className:E.a.container},n.a.createElement(b,null),n.a.createElement(v,{buttonClass:"regularButton"},"Submit"),n.a.createElement(v,{buttonClass:"deleteButton"},"Delete")))},w=r(8),R=r(19),S=r.n(R),j=function(){return n.a.createElement("span",null,"Loading....")},P=function(e){var t=e.isFetching,r=e.error,o=e.unError,s=e.messageError,c=e.onClickForgotPassword,u=Object(a.useState)(""),i=Object(w.a)(u,2),l=i[0],m=i[1];return n.a.createElement("div",{className:S.a.forgot},"Refresh Password",t?n.a.createElement(j,null):null,r?n.a.createElement("span",{className:S.a.error},s):null,o?n.a.createElement("span",{className:S.a.unError},"Success"):null,n.a.createElement("form",{className:S.a.fagotForm,onSubmit:function(){c(l)},action:""},n.a.createElement(b,{onChange:function(e){m(e.target.value)},value:l}),n.a.createElement(v,{disabled:t,buttonClass:"regularButton"},"Submit")))},C=r(7),I=r(11),y=r.n(I),k=r(13),N=r(2),L=function(e){return{type:"SET_EMAIL",email:e}},x=function(e){return{type:"UPDATE_PASSWORD",password:e}},T=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},B=function(e,t){return{type:"ERROR",error:e,messageError:t}},G=function(e){return{type:"UNERROR",unError:e}},A=r(41),F=r.n(A).a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),D=function(e,t,r){return F.post("/auth/login",{email:e,password:t,rememberMe:r})},U=function(e,t){return F.post("/auth/register",{email:e,password:t})},M=function(e){return F.post("auth/forgot",{email:e,html:"<a href='http://localhost:3000/cards#/refreshPassword'",html2:">http://localhost:3000/cards#/refreshPassword</a>"})},H=function(e){return F.post("POST /auth/set-new-password",{resetPasswordToken:"0b2bdd80-32f2-11ea-aa6d-ebd61add4aaa",password:e})},W={email:" ",isFetching:!1,error:!1,unError:!1,messageError:""},J=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.forgot})),r=t.isFetching,a=t.error,o=t.unError,s=t.messageError;return n.a.createElement("div",null,n.a.createElement(P,{onClickForgotPassword:function(t){e(function(e){return function(){var t=Object(k.a)(y.a.mark((function t(r){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(T(!0)),t.prev=1,t.next=4,M(e);case 4:a=t.sent,r(L(a.data.info.accepted[0])),r(G(!0)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.error),r(B(!0,t.t0.response.data.error));case 13:r(T(!1));case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},error:a,unError:o,isFetching:r,messageError:s}))},Z=function(e){var t=Object(a.useState)(""),r=Object(w.a)(t,2),o=r[0],s=r[1];return n.a.createElement("div",null,"Refresh Password",n.a.createElement("form",{onSubmit:function(){e.onClickNewPassword(o)},action:""},n.a.createElement(b,{onChange:function(e){s(e.target.value)},value:o}),n.a.createElement(v,{buttonClass:"regularButton"},"Submit")))},q={password:" "},z=function(e){var t=Object(C.b)();return n.a.createElement(Z,{onClickNewPassword:function(e){var r;t((r=e,function(){var e=Object(k.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=5,H(r);case 5:a=e.sent,t(x(a.data.password)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Error: BAD token");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}})},X=r(17),K=r.n(X),V=function(e){return n.a.createElement("form",{className:K.a.container},n.a.createElement("h3",null,"Log in"),n.a.createElement("div",{className:K.a.logIn},n.a.createElement(b,{type:"email",placeholder:"Email",value:e.email,onChange:function(t){e.setEmail(t.currentTarget.value)}}),n.a.createElement(b,{type:"password",placeholder:"Password",value:e.password,onChange:function(t){e.setPassword(t.currentTarget.value)}})),n.a.createElement("div",{className:K.a.checkbox},n.a.createElement("input",{type:"checkbox",checked:e.rememberMe,onChange:function(t){e.setRememberMe(t.currentTarget.checked)}}),n.a.createElement("div",null,"Remember me")),n.a.createElement(v,{buttonClass:"regularButton",onClick:function(){e.setUser()}},"Log in"),n.a.createElement(l.b,{to:"/refreshPassword",className:K.a.forgotPass},"Forgot password?"),n.a.createElement(l.b,{to:"/registration",className:K.a.forgotPass},"I don`t have an account"))},$={isSuccess:!1,isError:!1,isLoading:!1,token:"",rememberMe:!1},Q=function(e,t){return{type:"loginReducer/IS_SUCCESS",value:e,token:t}},Y=function(e){return{type:"loginReducer/IS_ERROR",value:e}},ee=function(e){return{type:"loginReducer/IS_LOADING",value:e}},te=function(){var e=Object(a.useState)(""),t=Object(w.a)(e,2),r=t[0],o=t[1],s=Object(a.useState)(""),u=Object(w.a)(s,2),i=u[0],l=u[1],m=Object(a.useState)(!1),d=Object(w.a)(m,2),E=d[0],f=d[1],p=Object(C.b)(),g=Object(C.c)((function(e){return e.login})),b=g.isLoading,h=g.isSuccess,_=g.isError;return h?n.a.createElement(c.a,{to:"/"}):n.a.createElement(V,{email:r,setEmail:o,password:i,setPassword:l,isError:_,rememberMe:E,setRememberMe:f,setUser:function(){p(function(e,t,r){return function(){var a=Object(k.a)(y.a.mark((function a(n,o){var s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ee(!0)),a.prev=1,a.next=4,D(e,t,r);case 4:s=a.sent,n(Q(!0,s.data.token)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n(Y(!0)),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(r,i,E)),o(""),l(""),f(!1)},isLoading:b})},re=r(22),ae=r.n(re),ne=function(e){var t=function(t){e.setPassword(t.currentTarget.value)},r=[{name:"Email",placeholder:"Enter your Email...",type:"email",onChange:function(t){e.setEmail(t.currentTarget.value)}},{name:"Password",placeholder:"Enter your password...",type:"password",onChange:t},{name:"Confirm Password",placeholder:"Enter your password confirmation...",onChange:t}];return n.a.createElement("div",{className:ae.a.container},n.a.createElement("h3",null,"Registration"),r.map((function(e){return n.a.createElement("form",{className:ae.a.inputArea},n.a.createElement("div",null,e.name),n.a.createElement(b,{placeholder:e.placeholder,type:e.type,onChange:e.onChange}))})),n.a.createElement("div",{className:ae.a.buttons},n.a.createElement(v,{buttonClass:"regularButton",onClick:function(){e.addUser()}},"Sign up"),n.a.createElement(l.b,{to:"/"},n.a.createElement(v,{buttonClass:"deleteButton"},"Cancel"))))},oe={isSuccess:!1,isError:!1,isLoading:!1},se=function(e){return{type:"registerReducer/REGISTER_IS_SUCCESS",value:e}},ce=function(){return{type:"registerReducer/REGISTER_IS_ERROR"}},ue=function(){return{type:"registerReducer/REGISTER_IS_LOADING"}},ie=function(){var e=Object(a.useState)(""),t=Object(w.a)(e,2),r=t[0],o=t[1],s=Object(a.useState)(""),u=Object(w.a)(s,2),i=u[0],l=u[1],m=Object(a.useState)(""),d=Object(w.a)(m,2),E=d[0],f=d[1],p=Object(a.useState)(!1),g=Object(w.a)(p,2),b=g[0],h=g[1];Object(a.useEffect)((function(){h(E===i)}),[E]);var _=Object(C.b)(),v=Object(C.c)((function(e){return e.register})),O=v.isLoading,R=v.isSuccess,S=v.isError;return R?n.a.createElement(c.a,{to:"/login"}):n.a.createElement(ne,{email:r,setEmail:o,password:i,setPassword:l,passwordRepeat:E,setPasswordRepeat:f,isPasswordSame:b,addUser:function(){_(function(e,t){return function(){var r=Object(k.a)(y.a.mark((function r(a,n){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(ue),r.prev=1,r.next=4,U(e,t);case 4:r.sent.data.success&&a(se(!0)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),a(ce()),console.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}()}(r,i)),o(""),l(""),f("")},isLoading:O,isError:S})},le=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m,null),n.a.createElement(c.b,{exact:!0,path:"/login",component:te}),n.a.createElement(c.b,{exact:!0,path:"/registration",component:ie}),n.a.createElement(c.b,{exact:!0,path:"/refreshPassword",component:J}),n.a.createElement(c.b,{exact:!0,path:"/newPassword",component:z}),n.a.createElement(c.b,{exact:!0,path:"/",component:O}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=r(16),de=r(42),Ee=Object(me.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"loginReducer/IS_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{isSuccess:t.value,isError:!1,isLoading:!1,token:t.token});case"loginReducer/IS_ERROR":return Object(N.a)(Object(N.a)({},e),{},{isError:t.value,isSuccess:!1,isLoading:!1});case"loginReducer/IS_LOADING":return Object(N.a)(Object(N.a)({},e),{},{isLoading:t.value});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registerReducer/REGISTER_IS_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{isLoading:!1,isSuccess:t.value});case"registerReducer/REGISTER_IS_ERROR":return Object(N.a)(Object(N.a)({},e),{},{isLoading:!1,isError:!0});case"registerReducer/REGISTER_IS_LOADING":return Object(N.a)(Object(N.a)({},e),{},{isLoading:!0});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return Object(N.a)(Object(N.a)({},e),{},{email:t.email});case"TOGGLE_IS_FETCHING":return Object(N.a)(Object(N.a)({},e),{},{isFetching:t.isFetching});case"ERROR":return Object(N.a)(Object(N.a)({},e),{},{error:t.error,messageError:t.messageError});case"UNERROR":return Object(N.a)(Object(N.a)({},e),{},{unError:t.unError});default:return e}},newPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PASSWORD":return Object(N.a)(Object(N.a)({},e),{},{password:t.password});default:return e}}}),fe=Object(me.d)(Ee,Object(me.a)(de.a));s.a.render(n.a.createElement(l.a,null,n.a.createElement(C.a,{store:fe},n.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.38dd50fc.chunk.js.map